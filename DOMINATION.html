<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BTC, ETH, USDT, SPX and Others Dominance Analysis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://s3.tradingview.com/tv.js"></script>
  <style>
    body { background-color: #0d1117; color: #e6edf3; font-family: "Segoe UI", sans-serif; margin: 0; }
    header { background-color: #161b22; padding: 20px; text-align: center; }
    h1 { margin: 0; font-size: 28px; }
    .controls { display: flex; justify-content: center; gap: 10px; margin-top: 15px; flex-wrap: wrap; }
    .controls button { padding: 8px 15px; border: none; border-radius: 5px; background-color: #238636; color: white; cursor: pointer; }
    .controls button:hover { background-color: #2ea043; }
    .section { padding: 30px 20px; border-bottom: 1px solid #21262d; }
    h2 { font-size: 22px; margin-bottom: 10px; }
    .tv-chart { height: 600px; }
    footer { text-align: center; padding: 20px; color: #6e7681; font-size: 14px; }
    #refresh-btn { background-color: #1f6feb; }
    #refresh-btn:hover { background-color: #2b7af0; }
    .loading { animation: spin 1s linear infinite; }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    @media (max-width: 768px) {
      .tv-chart { height: 400px; }
      h1 { font-size: 22px; }
      h2 { font-size: 18px; }
      .controls { flex-direction: column; align-items: center; }
      .controls button { width: 100%; max-width: 300px; }
    }
    @media (min-width: 1600px) { .tv-chart { height: 700px; } }
    .update-info { font-size: 14px; color: #8b949e; margin-top: 5px; font-style: italic; }
  </style>
</head>
<body>
  <header>
    <h1 id="main-title">üìä BTC, ETH, USDT and Others Dominance Analysis</h1>
    <div class="controls">
      <div class="lang-switch">
        <button onclick="setLang('uk')">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</button>
        <button onclick="setLang('ru')">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
        <button onclick="setLang('en')">üá∫üá∏ English</button>
      </div>
      <button id="refresh-btn" onclick="refreshCharts()">
        <span id="refresh-icon">üîÑ</span>
        <span id="refresh-text">Refresh data</span>
      </button>
    </div>
    <p id="main-subtitle">Data from TradingView</p>
  </header>

  <!-- –°–µ–∫—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ -->
  <div class="section"><h2 id="btc-title"></h2><p id="btc-desc"></p><div class="tv-chart" id="btc-chart"></div><div class="update-info" id="btc-update"></div></div>
  <div class="section"><h2 id="eth-title"></h2><p id="eth-desc"></p><div class="tv-chart" id="eth-chart"></div><div class="update-info" id="eth-update"></div></div>
  <div class="section"><h2 id="usdt-title"></h2><p id="usdt-desc"></p><div class="tv-chart" id="usdt-chart"></div><div class="update-info" id="usdt-update"></div></div>
  <div class="section"><h2 id="others-title"></h2><p id="others-desc"></p><div class="tv-chart" id="others-chart"></div><div class="update-info" id="others-update"></div></div>
  <div class="section"><h2 id="spx-title"></h2><p id="spx-desc"></p><div class="tv-chart" id="spx-chart"></div><div class="update-info" id="spx-update"></div></div>

  <footer><span id="footer-text">Data from TradingView</span></footer>

  <script>
    const translations = {
      uk: {
        title: "üìä –ê–Ω–∞–ª—ñ–∑ –¥–æ–º—ñ–Ω–∞—Ü—ñ—ó BTC, ETH, USDT —Ç–∞ Others",
        subtitle: "–î–∞–Ω—ñ –∑ TradingView",
        btcTitle: "üü° –î–æ–º—ñ–Ω–∞—Ü—ñ—è Bitcoin (BTC.D)",
        btcDesc: "BTC –¥–æ–º—ñ–Ω—É—î —è–∫ '—Ü–∏—Ñ—Ä–æ–≤–µ –∑–æ–ª–æ—Ç–æ', –∑—Ä–æ—Å—Ç–∞—é—á–∏ –Ω–∞ —Ñ–æ–Ω—ñ –∑–Ω–∏–∂–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–µ—Å—É –¥–æ –∞–ª—å—Ç—ñ–≤.",
        ethTitle: "üîµ –î–æ–º—ñ–Ω–∞—Ü—ñ—è Ethereum (ETH.D)",
        ethDesc: "ETH –ø–æ—Å—Ç—É–ø–æ–≤–æ –≤—Ç—Ä–∞—á–∞—î —á–∞—Å—Ç–∫—É —á–µ—Ä–µ–∑ —Å–ª–∞–±–∫—É –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —Ç–∞ –ø–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ L2.",
        usdtTitle: "üü¢ –î–æ–º—ñ–Ω–∞—Ü—ñ—è USDT (USDT.D)",
        usdtDesc: "–ó—Ä–æ—Å—Ç–∞–Ω–Ω—è USDT –æ–∑–Ω–∞—á–∞—î —Å—Ç—Ä–∞—Ö –∞–±–æ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –ø–∞–¥—ñ–Ω–Ω—è —Ä–∏–Ω–∫—É.",
        othersTitle: "üü† –î–æ–º—ñ–Ω–∞—Ü—ñ—è Others (OTHERS.D)",
        othersDesc: "–î–æ–º—ñ–Ω–∞—Ü—ñ—è —ñ–Ω—à–∏—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –ø–æ–∑–∞ BTC, ETH, USDT.",
        spxTitle: "üìà –Ü–Ω–¥–µ–∫—Å S&P 500 (SPX)",
        spxDesc: "–ì–æ–ª–æ–≤–Ω–∏–π —Ñ–æ–Ω–¥–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å –°–®–ê ‚Äî 500 –Ω–∞–π–±—ñ–ª—å—à–∏—Ö –∫–æ–º–ø–∞–Ω—ñ–π.",
        footer: "–î–∞–Ω—ñ –∑ TradingView",
        refreshText: "–û–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ",
        lastUpdated: "–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è: "
      },
      ru: {
        title: "üìä –ê–Ω–∞–ª–∏–∑ –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è BTC, ETH, USDT –∏ Others",
        subtitle: "–î–∞–Ω–Ω—ã–µ —Å TradingView",
        btcTitle: "üü° –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Bitcoin (BTC.D)",
        btcDesc: "BTC –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ ¬´—Ü–∏—Ñ—Ä–æ–≤–æ–µ –∑–æ–ª–æ—Ç–æ¬ª, —Ä–∞—Å—Ç–µ—Ç –Ω–∞ —Ñ–æ–Ω–µ —Å–Ω–∏–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫ –∞–ª—å—Ç–∞–º.",
        ethTitle: "üîµ –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Ethereum (ETH.D)",
        ethDesc: "ETH —Ç–µ—Ä—è–µ—Ç –¥–æ–ª—é –∏–∑-–∑–∞ —Å–ª–∞–±–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ L2.",
        usdtTitle: "üü¢ –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ USDT (USDT.D)",
        usdtDesc: "–†–æ—Å—Ç USDT ‚Äî —Å–∏–≥–Ω–∞–ª —Å—Ç—Ä–∞—Ö–∞ –∏–ª–∏ –æ–∂–∏–¥–∞–Ω–∏—è –ø–∞–¥–µ–Ω–∏—è.",
        othersTitle: "üü† –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Others (OTHERS.D)",
        othersDesc: "–î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –∫—Ä–æ–º–µ BTC, ETH –∏ USDT.",
        spxTitle: "üìà –ò–Ω–¥–µ–∫—Å S&P 500 (SPX)",
        spxDesc: "–ì–ª–∞–≤–Ω—ã–π —Ñ–æ–Ω–¥–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å –°–®–ê ‚Äî 500 –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π.",
        footer: "–î–∞–Ω–Ω—ã–µ —Å TradingView",
        refreshText: "–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ",
        lastUpdated: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: "
      },
      en: {
        title: "üìä BTC, ETH, USDT and Others Dominance Analysis",
        subtitle: "Data from TradingView",
        btcTitle: "üü° Bitcoin Dominance (BTC.D)",
        btcDesc: "BTC acts as 'digital gold', growing while altcoins lose appeal.",
        ethTitle: "üîµ Ethereum Dominance (ETH.D)",
        ethDesc: "ETH is slowly losing share due to weak dev activity and L2 migration.",
        usdtTitle: "üü¢ USDT Dominance (USDT.D)",
        usdtDesc: "USDT dominance rise shows fear or market downturn expectations.",
        othersTitle: "üü† Others Dominance (OTHERS.D)",
        othersDesc: "Dominance of 'other' cryptocurrencies outside BTC, ETH, and USDT.",
        spxTitle: "üìà S&P 500 (SPX)",
        spxDesc: "Key US stock market index reflecting 500 large-cap companies.",
        footer: "Data from TradingView",
        refreshText: "Refresh data",
        lastUpdated: "Last updated: "
      }
    };

    let widgets = {};

    function setLang(lang) {
      const t = translations[lang];
      document.getElementById("main-title").textContent = t.title;
      document.getElementById("main-subtitle").textContent = t.subtitle;
      document.getElementById("btc-title").textContent = t.btcTitle;
      document.getElementById("btc-desc").textContent = t.btcDesc;
      document.getElementById("eth-title").textContent = t.ethTitle;
      document.getElementById("eth-desc").textContent = t.ethDesc;
      document.getElementById("usdt-title").textContent = t.usdtTitle;
      document.getElementById("usdt-desc").textContent = t.usdtDesc;
      document.getElementById("others-title").textContent = t.othersTitle;
      document.getElementById("others-desc").textContent = t.othersDesc;
      document.getElementById("spx-title").textContent = t.spxTitle;
      document.getElementById("spx-desc").textContent = t.spxDesc;
      document.getElementById("footer-text").textContent = t.footer;
      document.getElementById("refresh-text").textContent = t.refreshText;
      localStorage.setItem("lang", lang);
      updateLastUpdatedInfo(lang);
    }

    function updateLastUpdatedInfo(lang) {
      const now = new Date();
      const locale = lang === 'uk' ? 'uk-UA' : lang === 'ru' ? 'ru-RU' : 'en-US';
      const formatted = now.toLocaleString(locale);
      document.querySelectorAll(".update-info").forEach(el => {
        el.textContent = translations[lang].lastUpdated + formatted;
      });
    }

    function createTVWidget(id, symbol, key) {
      widgets[key] = new TradingView.widget({
        container_id: id,
        width: "100%",
        height: "100%",
        symbol: symbol,
        interval: "D",
        timezone: "Etc/UTC",
        theme: "dark",
        style: "1",
        locale: "en",
        hide_top_toolbar: true,
        autosize: true,
        overrides: {
          "paneProperties.background": "#0d1117",
          "paneProperties.vertGridProperties.color": "#161b22",
          "paneProperties.horzGridProperties.color": "#161b22"
        },
        loading_screen: { backgroundColor: "#0d1117" }
      });
    }

    function initCharts() {
      createTVWidget("btc-chart", "CRYPTOCAP:BTC.D", "btc");
      createTVWidget("eth-chart", "CRYPTOCAP:ETH.D", "eth");
      createTVWidget("usdt-chart", "CRYPTOCAP:USDT.D", "usdt");
      createTVWidget("others-chart", "CRYPTOCAP:OTHERS.D", "others");
      createTVWidget("spx-chart", "OANDA:SPX500USD", "spx");
    }

    function refreshCharts() {
      const icon = document.getElementById("refresh-icon");
      icon.innerHTML = "‚è≥";
      icon.classList.add("loading");
      Object.keys(widgets).forEach(k => {
        const w = widgets[k];
        if (w) w.chart().setSymbol(w._options.symbol);
      });
      const lang = localStorage.getItem("lang") || "en";
      updateLastUpdatedInfo(lang);
      setTimeout(() => {
        icon.innerHTML = "üîÑ";
        icon.classList.remove("loading");
      }, 1500);
    }

    document.addEventListener("DOMContentLoaded", () => {
      const lang = localStorage.getItem("lang") || "en";
      setLang(lang);
      initCharts();
      updateLastUpdatedInfo(lang);
    });
  </script>
</body>
</html>